# checkin_test
拔剑班如何评价  
盘点一下11.4干了哈:  
实际上不只今天，昨天和今天都在被那个编辑（更新）员工给卡住，主要是上传文件and那个日期格式，
Java8不支持LocalDateTime和LocalDate，还以为是字段写错的问题来着， 去搜了挺久才改完
这个bug。至于那个上传文件，原本是想按照两个请求分开控制更新员工和上传图片，但是这样感觉
有点麻烦，再次chat了之后遍只用update了。后来在postman确实轻而易举地成功发送请求并上传
图片，但在前端那儿仍然得花不少功夫才解决，以至于我现在还不太懂...关于后端的那些地址或路径
配置项，现在仍然没去真正地配置，还是得找个机会看看改一下才行。先至此吧，编辑板块完成后，新增
板块相信很快就完成。  
今天是11.7早，盘点一下前俩天干了哈:  
完成了新增员工的接口，顺便将删除员工、修改名字的同时更新签到表，使其数据保持同步，此处也是用
到了事务。新增员工本想加个上传头像的功能，但想到不少网站注册账号时候并不用选择头像，乃删去
（实际上是偷懒），果然简单了不少。  
11.8下午，盘点一下今and昨天干了哈:  
昨天（好像是）修复了不能通过日期查询（主要是格式不一样）、修改日期相差一天的bug，条件查询的条件
添加了职位，随后加入了mybatis-plus，卡了不久bug，遂回去睡觉；今天，plus依赖的版本卡了不少
时间，后终于解决，继续写了分页处理的请求，发现需要添加配置项才能获取total等信息，终完成。  
11.10下午,盘点盘点:  
这俩天好像都没干嘛，emp表添加了account,passwd,is_manager字段,用于登录等功能；简陋完成了
登录、注册页面，以及请求，（注册直接用了addEmp），康康如何完善一下。  
现在系11.11夜10点:  
成功获取登录账号人信息，完成了更新密码、个人中心功能，果然还是前端难点；后面康康能不能把前端的
header提取出来，还有登出功能还是有bug，康康写个过滤器能不能修复？这几天或许有点忙，或许进度
会慢一点点（偷懒的借口？）。mamba out...  
现在系11.16下午六点：  
总算是完成了拦截器（从十二号至现在），可算是完成了呜呜呜...不知道问了多少条信息，还是要感谢
<a>https://blog.csdn.net/qq_57581439/article/details/128041253</a>的博客，主要
问题还是那个OPTIONS请求...复盘一下修改代码前后，修改前:
jwt=request.getHeader("Authorization");  
修改后：  
String jwt = "";  
if(request.getMethod().equals("OPTIONS")) {
response.setStatus(HttpServletResponse.SC_OK);
return true;
} else {  
jwt = request.getHeader("Authorization");  
jwt = jwt.substring(7);
}  
前端这边有个问题就是跨域的时候，会先传一个OPTIONS的请求，判断连接是否有效。然而实际上这个请求
没什么用，我们设置的请求头里面根本没有。故我们在他发送OPTIONS请求时，给他过滤掉即可。同时，
将切换页面replace替换成push并刷新页面，以修复前后回退的bug以及刷新的bug，emm差不多就这样吧。